工厂方法模式（Factory Method）:通过对产品类的抽象使其创建业务主要负责用于创建多类产品的实例。

广告是一个公司主要的一个经济来源，这不，很多企业等着要来公司首页打广告呢。

# 广告展现

“小白, 咱们新来了一批广告资源需要投放, 关于计算机培训的。一批是 Java的, 用绿色字体。还有一批是PHP的,要用黄色字体,红色背景。”

“没问题, 于是小白准备创建两个类, 然后通过实例对象方式来完成这个需求”。

```
//创建Java学科类
var Java = function(content){
	//将内容保存在content里面以备日后使用
	this.content = content;
	//创建对象时，通过闭包，直接执行，将内容按需求的样式插入到页面
	(function(content){
		var div = document.createElement('div');
		div.innerHTML = content;
		div.style.color = 'green';
		document.getElementById("container").appendChild(div);
	})(content);
}

//创建PHP学科类
var Php = function(){
	this.content = content;
	(function(content){
		var div = document.createElement('div');
		div.innerHTML = content;
		div.style.color = 'yellow';
		div.style.background = 'red';
		document.getElementById("container").appendChild(div);
	})(content);
}

```

刚写完就听到身后的喊声:“小白,又来了一批广告,关于 JavaScript的,要求背景色粉色……”

好吧,”突然间小白想起昨天学习的简单工厂模式,心想,“正好派上用场了,就用简单工厂模式去实现吧, 这样日后再创建对象直接找工厂就好了 。”

```
//创建Java学科类
var Java = function(content){
	..........
}

//创建PHP学科类
var Php = function(content){
	..........
}

//创建JavaScript学科
var JavaScript = function(content){
	this.content = content;
	(function(content){
		var div = document.createElement('div');
		div.innerHTML = content;
		div.style.background = 'pink';
		document.getElementById("container").appendChild(div);
	})(content);
}

//学科类工厂
function JobFactory(type, content){
	switch(type){
		case 'java' :
			return new Java(content);
		case 'php' :
			return new Php(content);
		case 'JavaScript' :
			return new JavaScript(content);
	}
}
```

然后写了一个测试案例：

```
JobFactory('JavaScript', 'JavaScript哪家强');
```

“小白, 又来了一批uI学科, 红色边框……”。

小白沉默了…

# 方案的抉择

小铭见状走了过来。“怎么了,小白?”

“需求总在变,我不知道哪种解决方式更好,开始需求简单,我就直接创建对象,后来需求多了,我就用简单工厂方法重构,而现在又变了,我不仅仅要添加类,还要修改工厂函数。晌腋担心的是未来的需求还会变……''''

“这样呀,”小铭微笑一下,''不用担心,需求变是正常的,而我们还有更好的模式可以应用, 刚才你用简单工厂模式遇到的问题就是每添加一个类就要修改两处是吧, 所以说你可以试用一下工厂方法模式 。这样以后每需要一个类,你只需要添加这个类就行,其他的不用操心了 。”

“工厂方法?这是一个什么样的模式?”

“工厂方法模式本意是说将实际创建对象工作推迟到子类当中。这样核心类就成了抽象类, 不过对于 JavaScript不必这么深究, JavaScript没有像传统创建抽象类那样的方式轻易创建抽象类, 所以在 JavaScript中实现工厂方法模式我们只需要参考它的核心思想即可 。 所以我们可以将工厂方法看作是一个实例化对象的工厂类。安全起见,我们用安全模式类,而我们将创建对象的基类放在工厂方法类的原型中即可 。”

# 安全模式类











